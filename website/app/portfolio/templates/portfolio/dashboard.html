{% extends 'base.html' %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="h3 mb-0">Content Dashboard</h1>
  <a href="/admin/" class="btn btn-sm btn-outline-secondary">Open Django Admin</a>
</div>

<div class="row g-3 mb-4">
  <div class="col-12 col-md-4">
    <div class="card stat-card h-100">
      <div class="card-body text-center">
        <div class="display-6 fw-bold">{{ project_count }}</div>
        <p class="text-muted mb-2">Projects</p>
        <a href="/admin/portfolio/project/" class="btn btn-sm btn-primary">Manage</a>
      </div>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card stat-card h-100">
      <div class="card-body text-center">
        <div class="display-6 fw-bold">{{ blog_count }}</div>
        <p class="text-muted mb-2">Blog Posts</p>
        <a href="/admin/portfolio/blogpost/" class="btn btn-sm btn-primary">Manage</a>
      </div>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card stat-card h-100">
      <div class="card-body text-center">
        <div class="display-6 fw-bold">{{ news_count }}</div>
        <p class="text-muted mb-2">News Items</p>
        <a href="/admin/portfolio/newsitem/" class="btn btn-sm btn-primary">Manage</a>
      </div>
    </div>
  </div>
</div>

<div class="row g-4">
  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-header d-flex justify-content-between align-items-center"><span class="fw-semibold">Recent Projects</span><a href="/admin/portfolio/project/" class="small">All</a></div>
      <ul class="list-group list-group-flush small">
        {% for p in recent_projects %}
          <li class="list-group-item text-truncate"><a href="/admin/portfolio/project/{{ p.id }}/change/" class="text-decoration-none">{{ p.title }}</a></li>
        {% empty %}<li class="list-group-item text-muted">None</li>{% endfor %}
      </ul>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-header d-flex justify-content-between align-items-center"><span class="fw-semibold">Recent Blog Posts</span><a href="/admin/portfolio/blogpost/" class="small">All</a></div>
      <ul class="list-group list-group-flush small">
        {% for b in recent_posts %}
          <li class="list-group-item text-truncate"><a href="/admin/portfolio/blogpost/{{ b.id }}/change/" class="text-decoration-none">{{ b.title }}</a></li>
        {% empty %}<li class="list-group-item text-muted">None</li>{% endfor %}
      </ul>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-header d-flex justify-content-between align-items-center"><span class="fw-semibold">Recent News</span><a href="/admin/portfolio/newsitem/" class="small">All</a></div>
      <ul class="list-group list-group-flush small">
        {% for n in recent_news %}
          <li class="list-group-item text-truncate"><a href="/admin/portfolio/newsitem/{{ n.id }}/change/" class="text-decoration-none">{{ n.title }}</a></li>
        {% empty %}<li class="list-group-item text-muted">None</li>{% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
